---
import { komata, formatDateRange } from '@lib/next-koma.tsx'
import ExtLink from '@components/ExtLink.astro'
---

<div class="not-prose float-right size-fit p-2 pr-0">
  <div
    class="w-60 rounded-md border-2 border-orange-200 bg-orange-50 p-3 pb-1 pt-5 leading-5 text-zinc-600 shadow-inner shadow-zinc-300 md:w-64 md:px-4 dark:border-orange-900 dark:bg-orange-950 dark:text-zinc-300 dark:shadow-zinc-900"
  >
    <h1
      class="px-2 pb-1 text-sm font-bold uppercase tracking-wide text-zinc-500 dark:text-zinc-400"
    >
      Termine
    </h1>
    <ul class="h-full px-2 pb-2">
      {
        komata.slice(0, 2).map((koma) => {
          const { name, url, location, start, end } = koma
          return (
            <li class="pb-2">
              <ExtLink href={url} noIcon>
                <span class="block pb-1 pt-3 text-xs font-bold tracking-wider text-zinc-500 dark:text-zinc-400">
                  {formatDateRange(start, end)}
                </span>
              </ExtLink>
              <ExtLink href={url}>
                <span>{name} in </span>
                <span class="font-semibold text-zinc-500 dark:text-zinc-400">{location}</span>
              </ExtLink>
            </li>
          )
        })
      }
    </ul>
  </div>
</div>
